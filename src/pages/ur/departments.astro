---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import departmentsData from '../../content/ur/departments.json';
import departmentsDataEn from '../../content/en/departments.json';

const { departments } = departmentsData;
---

<Layout 
  title="شعبہ جات - پیام سیرت ٹرسٹ"
  description="پیام سیرت ٹرسٹ کے آٹھ شعبہ جات: مکاتب، مدارس، کورسز، تنظیم اطفال، دعوت، نشرواشاعت، امتحان، اور تعاون مالی۔"
  lang="ur"
>
  <Header lang="ur" currentPage="departments" />
  
  <main>
    <!-- Hero Section -->
    <section class="bg-primary text-white py-16 lg:py-24 geo-pattern">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl lg:text-5xl font-bold mb-4 font-urdu">ہمارے شعبہ جات</h1>
          <p class="text-2xl text-gold">Our Departments</p>
        </div>
      </div>
    </section>

    <!-- Departments List -->
    <section class="py-16 bg-cream">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="space-y-8">
          {departments.map((dept, index) => (
            <div id={dept.id} class="bg-white rounded-2xl p-6 md:p-8 shadow-sm card-hover scroll-mt-24">
              <div class="flex flex-col md:flex-row md:items-start gap-6" dir="rtl">
                <div class="w-14 h-14 rounded-xl bg-primary flex items-center justify-center flex-shrink-0">
                  <span class="text-2xl text-white font-bold">{index + 1}</span>
                </div>
                <div class="flex-1 text-right">
                  <h2 class="text-2xl font-bold text-primary mb-1 font-urdu">{dept.name}</h2>
                  <p class="text-lg text-primary mb-4">{departmentsDataEn.departments[index].name}</p>
                  
                  <div class="grid md:grid-cols-2 gap-6">
                    <div>
                      <h3 class="font-semibold text-gray-900 mb-2 font-urdu">مقصد</h3>
                      <p class="text-gray-600 mb-3 font-urdu leading-relaxed">{dept.purpose}</p>
                      <p class="text-gray-500">{departmentsDataEn.departments[index].purpose}</p>
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900 mb-2 font-urdu">اہم سرگرمیاں</h3>
                      <ul class="space-y-1 mb-3 text-right">
                        {dept.activities.map(activity => (
                          <li class="text-gray-600 text-sm font-urdu">{activity} •</li>
                        ))}
                      </ul>
                      <ul class="space-y-1">
                        {departmentsDataEn.departments[index].activities.map(activity => (
                          <li class="text-gray-500 text-sm">• {activity}</li>
                        ))}
                      </ul>
                    </div>
                  </div>
                  
                  <div class="mt-6 pt-6 border-t border-gray-100 grid md:grid-cols-2 gap-4">
                    <div class="bg-green-50 rounded-lg p-4">
                      <h4 class="font-semibold text-green-800 mb-1 font-urdu">اثر</h4>
                      <p class="text-green-700 text-sm font-urdu">{dept.impact}</p>
                      <p class="text-green-600 text-sm mt-1">{departmentsDataEn.departments[index].impact}</p>
                    </div>
                    <div class="bg-amber-50 rounded-lg p-4">
                      <h4 class="font-semibold text-amber-800 mb-1 font-urdu">درکار مدد</h4>
                      <p class="text-amber-700 text-sm font-urdu">{dept.support}</p>
                      <p class="text-amber-600 text-sm mt-1">{departmentsDataEn.departments[index].support}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-primary geo-pattern text-white">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold mb-4 font-urdu">ہمارے شعبہ جات کی مدد کریں</h2>
        <p class="text-xl mb-6 text-gold">Support Our Departments</p>
        <a href="/ur/support/" class="inline-block px-8 py-4 bg-gold text-primary-dark font-semibold rounded-lg hover:bg-gold-light transition-colors shadow-lg font-urdu">
          ابھی عطیہ دیں
        </a>
      </div>
    </section>
  </main>
  
  <Footer lang="ur" />
</Layout>
